plugins {
    id 'application'
    id 'java'
}

group = 'org.kurz.ma.examples.kieker2uml'
version = '1.0-SNAPSHOT'

repositories {
    mavenLocal()
    mavenCentral()
    maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
}

dependencies {
    implementation "ch.qos.logback:logback-classic:1.1.7"
    implementation 'org.slf4j:slf4j-api:1.7.30'
    implementation 'org.codehaus.groovy:groovy-all:3.0.2'
    implementation "com.beust:jcommander:1.72"

    implementation 'de.cau.cs.se.teetime:teetime:3.1.0'
    implementation "net.kieker-monitoring:kieker:2.0.0-SNAPSHOT"


    testImplementation platform('org.junit:junit-bom:5.9.1')
    testImplementation 'org.junit.jupiter:junit-jupiter'
}

distTar.enabled=false

// Simplify the JAR's file name
archivesBaseName = 'TraceAnalysis'
version = ''

//sourceSets.main.java.srcDirs = ['src']
//sourceSets.main.resources.srcDirs = [ '../../resources' ]

mainClassName = 'org.kurz.ma.examples.kieker2uml.Kieker2UmlMain'

jar {
    manifest {
        attributes 'Main-Class': mainClassName
    }
}

tasks.register('runAnalysis', JavaExec) {
    main = mainClassName
    classpath = sourceSets.main.runtimeClasspath
}


test {
    useJUnitPlatform()
}